--// Orion Universal Utility Script
--// Made for learning & utility purposes

-- Load Orion Library
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()

-- Services
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local LocalPlayer = Players.LocalPlayer

-- Variables
local SavedCFrame = nil

-- Create Window
local Window = OrionLib:MakeWindow({
	Name = "Universal Utility Hub",
	HidePremium = false,
	SaveConfig = true,
	ConfigFolder = "UniversalOrionHub"
})

--==============================
-- üìç Waypoint Tab
--==============================
local WaypointTab = Window:MakeTab({
	Name = "Waypoint",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

WaypointTab:AddButton({
	Name = "Set Waypoint (Current Position)",
	Callback = function()
		local char = LocalPlayer.Character
		if char and char:FindFirstChild("HumanoidRootPart") then
			SavedCFrame = char.HumanoidRootPart.CFrame
			OrionLib:MakeNotification({
				Name = "Waypoint Set",
				Content = "Your position has been saved.",
				Image = "rbxassetid://4483345998",
				Time = 3
			})
		end
	end
})

WaypointTab:AddButton({
	Name = "Teleport to Waypoint",
	Callback = function()
		local char = LocalPlayer.Character
		if SavedCFrame and char and char:FindFirstChild("HumanoidRootPart") then
			char.HumanoidRootPart.CFrame = SavedCFrame
		else
			OrionLib:MakeNotification({
				Name = "Error",
				Content = "No waypoint set yet.",
				Time = 3
			})
		end
	end
})

--==============================
-- üë§ Player Tab
--==============================
local PlayerTab = Window:MakeTab({
	Name = "Player",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

PlayerTab:AddButton({
	Name = "Refresh Character",
	Callback = function()
		local pos
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
			pos = LocalPlayer.Character.HumanoidRootPart.CFrame
		end

		LocalPlayer.CharacterAdded:Wait()
		task.wait(0.2)

		if pos and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
			LocalPlayer.Character.HumanoidRootPart.CFrame = pos
		end
	end
})

PlayerTab:AddButton({
	Name = "Reset Character",
	Callback = function()
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
			LocalPlayer.Character.Humanoid.Health = 0
		end
	end
})

PlayerTab:AddParagraph("Player Info",
	"Username: " .. LocalPlayer.Name ..
	"\nUserId: " .. LocalPlayer.UserId
)

--==============================
-- ‚öôÔ∏è Settings Tab
--==============================
local SettingsTab = Window:MakeTab({
	Name = "Settings",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

SettingsTab:AddButton({
	Name = "Rejoin Server",
	Callback = function()
		TeleportService:Teleport(game.PlaceId, LocalPlayer)
	end
})

SettingsTab:AddToggle({
	Name = "Toggle UI (RightShift)",
	Default = true,
	Callback = function(Value)
		OrionLib:Toggle()
	end
})

SettingsTab:AddButton({
	Name = "Destroy UI",
	Callback = function()
		OrionLib:Destroy()
	end
})

-- Init Orion
OrionLib:Init()
