-- Quick test script for Studio Command Bar: Clone button with anchored R6 clone

local player = game.Players.LocalPlayer
if not player then return end

-- Create ScreenGui and Button
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CloneButtonGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 200, 0, 50)
button.Position = UDim2.new(0.5, -100, 1, -60)
button.Text = "Clone My Character (Anchored R6)"
button.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
button.TextColor3 = Color3.new(1, 1, 1)
button.Font = Enum.Font.GothamBold
button.TextSize = 18
button.Parent = screenGui

-- Click function
button.MouseButton1Click:Connect(function()
    local character = player.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then
        warn("No character found!")
        return
    end

    -- Clone the character
    local clone = character:Clone()
    
    -- Force R6 rig type
    local humanoid = clone:FindFirstChildOfClass("Humanoid")
    if humanoid then
        humanoid.RigType = Enum.HumanoidRigType.R6
        humanoid:ApplyDescription(game.Players:GetHumanoidDescriptionFromUserId(player.UserId)) -- Keeps appearance
    end
    
    -- Anchor all BaseParts
    for _, part in pairs(clone:GetDescendants()) do
        if part:IsA("BasePart") then
            part.Anchored = true
        elseif part:IsA("Script") or part:IsA("LocalScript") then
            part:Destroy() -- Remove scripts to prevent animation/movement
        end
    end
    
    clone.Parent = workspace
    print("Cloned and anchored your character!")
end)

print("Clone button created! Click it to make an anchored R6 clone.")
